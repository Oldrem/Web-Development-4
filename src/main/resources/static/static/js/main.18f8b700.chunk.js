(this.webpackJsonplab4_react=this.webpackJsonplab4_react||[]).push([[0],{28:function(e,t,a){e.exports=a(39)},33:function(e,t,a){},39:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(18),i=a.n(l),o=a(16),s=a(2),u=a(3),c=a(6),p=a(4),h=a(7),d=a(15),m=(a(33),a(5)),v=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).sendLoginRequest=function(){a.props.dispatch({type:"APP_LOGIN",value:{history:a.props.history}})},a.redirectToRegister=function(){a.props.history.push("/register")},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"main-welcome"},r.a.createElement("h1",null,"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c!"),r.a.createElement("div",{className:"login-form"},r.a.createElement("span",{className:"login"},"\u041b\u043e\u0433\u0438\u043d:"),r.a.createElement("br",null),r.a.createElement("input",{type:"text",value:this.props.login,onChange:function(t){return e.props.dispatch({type:"LOGIN_SET_LOGIN",value:t.target.value.replace(" ","")})}}),r.a.createElement("br",null),r.a.createElement("span",{className:"login"},"\u041f\u0430\u0440\u043e\u043b\u044c:"),r.a.createElement("br",null),r.a.createElement("input",{type:"password",value:this.props.password,onChange:function(t){return e.props.dispatch({type:"LOGIN_SET_PASSWORD",value:t.target.value})}}),r.a.createElement("br",null),r.a.createElement("div",{className:this.props.error?"warn":"hidden"},"\u041d\u0435\u0432\u0435\u0440\u043d\u043e\u0435 \u0438\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c!"),r.a.createElement("button",{className:"submit-button",disabled:!this.props.formCorrect,onClick:this.sendLoginRequest},"\u0412\u043e\u0439\u0442\u0438"),r.a.createElement("button",{className:"submit-button",onClick:this.redirectToRegister},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f")))}}]),t}(r.a.Component),E=Object(m.b)((function(e){return{user:e.appState.user,login:e.loginState.login,password:e.loginState.password,error:e.loginState.error,formCorrect:e.loginState.formCorrect}}))(v),g=Object(d.f)((function(e){return r.a.createElement(E,{history:e.history})})),_=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("table",{className:"input-table"},r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("input",{type:"radio",value:"-3",name:"x",id:"x_-3",onChange:function(t){return e.props.dispatch({type:"MAIN_SET_X",value:t.target.value})},checked:-3===this.props.x}),r.a.createElement("label",{htmlFor:"x_-3"},"-3")),r.a.createElement("td",null,r.a.createElement("input",{type:"radio",value:"-2",name:"x",id:"x_-2",onChange:function(t){return e.props.dispatch({type:"MAIN_SET_X",value:t.target.value})},checked:-2===this.props.x}),r.a.createElement("label",{htmlFor:"x_-2"},"-2")),r.a.createElement("td",null,r.a.createElement("input",{type:"radio",value:"-1",name:"x",id:"x_-1",onChange:function(t){return e.props.dispatch({type:"MAIN_SET_X",value:t.target.value})},checked:-1===this.props.x}),r.a.createElement("label",{htmlFor:"x_-1"},"-1")),r.a.createElement("td",null,r.a.createElement("input",{type:"radio",value:"0",name:"x",id:"x_0",onChange:function(t){return e.props.dispatch({type:"MAIN_SET_X",value:t.target.value})},checked:0===this.props.x}),r.a.createElement("label",{htmlFor:"x_0"},"0")),r.a.createElement("td",null,r.a.createElement("input",{type:"radio",value:"1",name:"x",id:"x_1",onChange:function(t){return e.props.dispatch({type:"MAIN_SET_X",value:t.target.value})},checked:1===this.props.x}),r.a.createElement("label",{htmlFor:"x_1"},"1"))),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("input",{type:"radio",value:"2",name:"x",id:"x_2",onChange:function(t){return e.props.dispatch({type:"MAIN_SET_X",value:t.target.value})},checked:2===this.props.x}),r.a.createElement("label",{htmlFor:"x_2"},"2")),r.a.createElement("td",null,r.a.createElement("input",{type:"radio",value:"3",name:"x",id:"x_3",onChange:function(t){return e.props.dispatch({type:"MAIN_SET_X",value:t.target.value})},checked:3===this.props.x}),r.a.createElement("label",{htmlFor:"x_3"},"3")),r.a.createElement("td",null,r.a.createElement("input",{type:"radio",value:"4",name:"x",id:"x_4",onChange:function(t){return e.props.dispatch({type:"MAIN_SET_X",value:t.target.value})},checked:4===this.props.x}),r.a.createElement("label",{htmlFor:"x_4"},"4")),r.a.createElement("td",null,r.a.createElement("input",{type:"radio",value:"5",name:"x",id:"x_5",onChange:function(t){return e.props.dispatch({type:"MAIN_SET_X",value:t.target.value})},checked:5===this.props.x}),r.a.createElement("label",{htmlFor:"x_5"},"5"))))}}]),t}(r.a.Component),S=(Object(m.b)((function(e){return{x:e.mainState.xField}}))(_),function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("table",{className:"input-table"},r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("input",{type:"radio",value:"0.5",name:"r",id:"r_0.5",onChange:function(t){return e.props.dispatch({type:"MAIN_SET_R",value:t.target.value})},checked:.5===this.props.r}),r.a.createElement("label",{htmlFor:"r_0.5"},"0.5")),r.a.createElement("td",null,r.a.createElement("input",{type:"radio",value:"1",name:"r",id:"r_1",onChange:function(t){return e.props.dispatch({type:"MAIN_SET_R",value:t.target.value})},checked:1===this.props.r}),r.a.createElement("label",{htmlFor:"r_1"},"1")),r.a.createElement("td",null,r.a.createElement("input",{type:"radio",value:"1.5",name:"r",id:"r_1.5",onChange:function(t){return e.props.dispatch({type:"MAIN_SET_R",value:t.target.value})},checked:1.5===this.props.r}),r.a.createElement("label",{htmlFor:"r_1.5"},"1.5")),r.a.createElement("td",null,r.a.createElement("input",{type:"radio",value:"2",name:"r",id:"r_2",onChange:function(t){return e.props.dispatch({type:"MAIN_SET_R",value:t.target.value})},checked:2===this.props.r}),r.a.createElement("label",{htmlFor:"r_2"},"2")),r.a.createElement("td",null,r.a.createElement("input",{type:"radio",value:"2.5",name:"r",id:"r_2.5",onChange:function(t){return e.props.dispatch({type:"MAIN_SET_R",value:t.target.value})},checked:2.5===this.props.r}),r.a.createElement("label",{htmlFor:"r_2.5"},"2.5"))),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("input",{type:"radio",value:"3",name:"r",id:"r_3",onChange:function(t){return e.props.dispatch({type:"MAIN_SET_R",value:t.target.value})},checked:3===this.props.r}),r.a.createElement("label",{htmlFor:"r_3"},"3")),r.a.createElement("td",null,r.a.createElement("input",{type:"radio",value:"3.5",name:"r",id:"r_3.5",onChange:function(t){return e.props.dispatch({type:"MAIN_SET_R",value:t.target.value})},checked:3.5===this.props.r}),r.a.createElement("label",{htmlFor:"r_3.5"},"3.5")),r.a.createElement("td",null,r.a.createElement("input",{type:"radio",value:"4",name:"r",id:"r_4",onChange:function(t){return e.props.dispatch({type:"MAIN_SET_R",value:t.target.value})},checked:4===this.props.r}),r.a.createElement("label",{htmlFor:"r_4"},"4")),r.a.createElement("td",null,r.a.createElement("input",{type:"radio",value:"4.5",name:"r",id:"r_4.5",onChange:function(t){return e.props.dispatch({type:"MAIN_SET_R",value:t.target.value})},checked:4.5===this.props.r}),r.a.createElement("label",{htmlFor:"r_4.5"},"4.5")),r.a.createElement("td",null,r.a.createElement("input",{type:"radio",value:"5",name:"r",id:"r_5",onChange:function(t){return e.props.dispatch({type:"MAIN_SET_R",value:t.target.value})},checked:5===this.props.r}),r.a.createElement("label",{htmlFor:"r_5"},"5"))))}}]),t}(r.a.Component)),y=Object(m.b)((function(e){return{r:e.mainState.rField}}))(S),b=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"canvas-container"},r.a.createElement("canvas",{ref:"canvas",height:"300px",width:"300px",onClick:function(t){return e.handleClick(t)}}))}},{key:"componentDidMount",value:function(){this.canvas=this.refs.canvas,this.i=25,this.updateCanvas()}},{key:"componentDidUpdate",value:function(e,t,a){this.updateCanvas()}},{key:"updateCanvas",value:function(){this.clear(this.canvas),this.drawArea(this.props.r,this.i,this.canvas),this.drawAxis(this.i,this.canvas);var e=!0,t=!1,a=void 0;try{for(var n,r=this.props.points[Symbol.iterator]();!(e=(n=r.next()).done);e=!0){var l=n.value;this.drawPoint(l.x,l.y,l.ch?"lime":"red",this.i,this.canvas)}}catch(i){t=!0,a=i}finally{try{e||null==r.return||r.return()}finally{if(t)throw a}}}},{key:"drawAxis",value:function(e,t){var a=t.getContext("2d"),n=t.height,r=t.width;a.strokeStyle="black",a.lineWidth=2,a.beginPath(),a.moveTo(r/2,n),a.lineTo(r/2,0),a.lineTo(r/2+3,7),a.moveTo(r/2,0),a.lineTo(r/2-3,7),this.drawDigitsX(a,e,r,n),a.stroke(),a.beginPath(),a.moveTo(0,n/2),a.lineTo(r,n/2),a.lineTo(r-7,n/2+3),a.moveTo(r,n/2),a.lineTo(r-7,n/2-3),this.drawDigitsY(a,e,r,n),a.stroke(),a.strokeStyle="grey",a.lineWidth=1,a.moveTo(r/2-4*e,n/2-5*e),a.lineTo(r/2+4*e,n/2-5*e),a.lineTo(r/2+4*e,n/2+3*e),a.lineTo(r/2-4*e,n/2+3*e),a.lineTo(r/2-4*e,n/2-5*e),a.stroke()}},{key:"drawDigitsX",value:function(e,t,a,n){for(var r=a/2,l=0;l<5;l++)r+=t,e.moveTo(r,n/2+3),e.lineTo(r,n/2-3);r=a/2;for(var i=0;i<5;i++)r-=t,e.moveTo(r,n/2+3),e.lineTo(r,n/2-3)}},{key:"drawDigitsY",value:function(e,t,a,n){for(var r=n/2,l=0;l<5;l++)r+=t,e.moveTo(a/2+3,r),e.lineTo(a/2-3,r);r=n/2;for(var i=0;i<5;i++)r-=t,e.moveTo(a/2+3,r),e.lineTo(a/2-3,r)}},{key:"drawArea",value:function(e,t,a){var n=a.getContext("2d"),r=a.height,l=a.width;n.strokeStyle="#007765",n.fillStyle="#468AC0",n.beginPath(),n.arc(l/2,r/2,e*t,Math.PI,Math.PI/2,!0),n.moveTo(l/2-e*t,r/2),n.lineTo(l/2,r/2),n.lineTo(l/2,r/2-e*t),n.lineTo(l/2+e*t,r/2),n.lineTo(l/2+e*t,r/2+e*t),n.lineTo(l/2,r/2+e*t),n.fill()}},{key:"clear",value:function(e){e.getContext("2d").clearRect(0,0,e.width,e.height)}},{key:"handleClick",value:function(e){var t=e.target,a=Number(((e.pageX-window.pageXOffset-t.getBoundingClientRect().x-t.width/2)/this.i).toFixed(2)),n=Number((-(e.pageY-window.pageYOffset-t.getBoundingClientRect().y-t.height/2)/this.i).toFixed(2));a<-4||a>4||n<-3||n>5||this.props.dispatch({type:"MAIN_ADD_POINT",value:{x:a,y:n,r:this.props.r}})}},{key:"drawPoint",value:function(e,t,a,n,r){var l=r.getContext("2d");l.fillStyle=a,l.beginPath(),l.arc(r.width/2+e*n,r.height/2-t*n,2,0,2*Math.PI,!0),l.fill()}}]),t}(r.a.Component),f=Object(m.b)((function(e){return{points:e.appState.drawing,r:e.mainState.rField}}))(b),N=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(l)))).changeButton=function(e){return r.a.createElement("button",{className:"r-button",onClick:function(t){a.props.dispatch({type:"MAIN_SET_CURRENT_POINT",value:e})}},"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c")},a.saveButton=function(e){return r.a.createElement("button",{className:"r-button",onClick:function(t){a.props.dispatch({type:"MAIN_UPDATE_POINT",value:e})}},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c")},a.deleteButton=function(e){return r.a.createElement("button",{className:"r-button",onClick:function(t){a.props.dispatch({type:"MAIN_DELETE_POINT",value:e})}},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c")},a.xChange=function(){return r.a.createElement("input",{type:"text",className:"change-input",value:a.props.x,onChange:function(e){return a.props.dispatch({type:"MAIN_SET_CHANGE_X",value:e.target.value})}})},a.yChange=function(){return r.a.createElement("input",{type:"text",className:"change-input",value:a.props.y,onChange:function(e){return a.props.dispatch({type:"MAIN_SET_CHANGE_Y",value:e.target.value})}})},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=[],t=this.props.points.concat().sort((function(e,t){return t.date-e.date})),a=!0,n=!1,l=void 0;try{for(var i,o=t[Symbol.iterator]();!(a=(i=o.next()).done);a=!0){var s=i.value,u=s.pointHistoryElements.concat().sort((function(e,t){return t.date-e.date}));e.push(r.a.createElement("tr",{key:s.id},r.a.createElement("td",null,this.props.currentPoint===s.id?this.xChange():u[0].x),r.a.createElement("td",null,this.props.currentPoint===s.id?this.yChange():u[0].y),r.a.createElement("td",null,s.r),r.a.createElement("td",null,u[0].isCheck?"\u0414\u0430":"\u041d\u0435\u0442"),r.a.createElement("td",null,this.props.currentPoint===s.id?this.saveButton(s):T(new Date(s.date))),r.a.createElement("td",null,this.props.currentPoint===s.id?this.deleteButton(s):this.changeButton(s))))}}catch(c){n=!0,l=c}finally{try{a||null==o.return||o.return()}finally{if(n)throw l}}return r.a.createElement("div",{className:"history-block"},r.a.createElement("span",{className:"table-text"},"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b"),r.a.createElement("table",{className:"result-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"\u041a\u043e\u043e\u0440\u0434\u0438\u043d\u0430\u0442\u0430 X"),r.a.createElement("th",null,"\u041a\u043e\u043e\u0440\u0434\u0438\u043d\u0430\u0442\u0430 Y"),r.a.createElement("th",null,"\u0420\u0430\u0434\u0438\u0443\u0441"),r.a.createElement("th",null,"\u041f\u043e\u043f\u0430\u0434\u0430\u043d\u0438\u0435"),r.a.createElement("th",null,"\u0421\u043e\u0437\u0434\u0430\u043d\u043e"),r.a.createElement("th",null,"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435"))),r.a.createElement("tbody",null,e)))}}]),t}(r.a.Component),T=function(e){return"".concat(O(e.getDay()),".").concat(O(e.getMonth()),".").concat(O(e.getFullYear()),",\n\n     ").concat(O(e.getHours()),":").concat(O(e.getMinutes()),":").concat(O(e.getSeconds()))},O=function(e){return Number(e)<10?"0"+e:""+e},C=Object(m.b)((function(e){return{points:e.appState.points,currentPoint:e.mainState.currentPoint,x:e.mainState.xChange,y:e.mainState.yChange}}))(N),P=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).exit=function(){a.props.dispatch({type:"APP_LOGOUT",value:{history:a.props.history}})},null===a.props.user?a.props.history.push("/login"):a.props.dispatch({type:"APP_GET_POINTS",value:{history:a.props.history}}),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"main-wrapper"},r.a.createElement("div",{className:"Wrapper"},r.a.createElement("div",{className:"leftsidebar"}),r.a.createElement("div",{className:"Top"},"\u041f\u041e\u041f\u0410\u0414\u0410\u0415\u0422 \u041b\u0418 \u0422\u0412\u041e\u042f \u0422\u041e\u0427\u041a\u0410 \u0412 \u042d\u0422\u041e\u0422 \u0413\u0420\u0410\u0424\u0418\u041a?")),r.a.createElement("div",{className:"Wrapper2"},r.a.createElement("div",{className:"leftsidebar2"}),r.a.createElement("div",{className:"main"},r.a.createElement("p",{className:"login-name"},"\u0412\u044b \u0432\u043e\u0448\u043b\u0438 \u043a\u0430\u043a ",this.props.user),r.a.createElement("div",{className:"step"},r.a.createElement("p",null,"\u0428\u0430\u0433 \u043f\u0435\u0440\u0432\u044b\u0439 - \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 X."),r.a.createElement("br",null),r.a.createElement("input",{type:"text",value:this.props.x,placeholder:"\u043e\u0442 -4 \u0434\u043e 4",onChange:function(t){return e.props.dispatch({type:"MAIN_SET_X",value:t.target.value.replace(",",".")})}})),r.a.createElement("div",{className:"step"},r.a.createElement("p",null,"\u0428\u0430\u0433 \u0432\u0442\u043e\u0440\u043e\u0439 - \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 Y."),r.a.createElement("br",null),r.a.createElement("input",{type:"text",value:this.props.y,placeholder:"\u043e\u0442 -3 \u0434\u043e 5",onChange:function(t){return e.props.dispatch({type:"MAIN_SET_Y",value:t.target.value.replace(",",".")})}})),r.a.createElement("div",{className:"step"},r.a.createElement("p",null,"\u0428\u0430\u0433 \u0442\u0440\u0435\u0442\u0438\u0439 - \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 R."),r.a.createElement("br",null),r.a.createElement(y,null)),r.a.createElement("button",{className:"submit-button-main",onClick:function(){return e.props.dispatch({type:"MAIN_ADD_POINT",value:{x:e.props.x,y:e.props.y,r:e.props.r}})},disabled:""===this.props.y||"-"===this.props.y||"."===this.props.y},"\u041f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c"),r.a.createElement("button",{className:"submit-button-main",onClick:this.exit},"\u0412\u044b\u0439\u0442\u0438"),r.a.createElement("br",null),r.a.createElement(C,null)),r.a.createElement("div",{className:"rightsidebar"},r.a.createElement(f,null))))}}]),t}(r.a.Component),I=Object(m.b)((function(e){return{user:e.appState.user,x:e.mainState.xField,y:e.mainState.yField,r:e.mainState.rField}}))(P),R=Object(d.f)((function(e){return r.a.createElement(I,{history:e.history,store:e.store})})),A=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).redirectToLogin=function(){a.props.history.push("/login")},a.register=function(){a.props.dispatch({type:"APP_REGISTER",value:{history:a.props.history}})},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"main-welcome"},r.a.createElement("h1",null,"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),r.a.createElement("div",{className:"login-form"},r.a.createElement("span",{className:"login"},"\u041b\u043e\u0433\u0438\u043d"),r.a.createElement("br",null),r.a.createElement("input",{type:"text",value:this.props.login,onChange:function(t){return e.props.dispatch({type:"REGISTER_SET_LOGIN",value:t.target.value.replace(" ","")})}}),r.a.createElement("br",null),r.a.createElement("div",{className:this.props.loginError?"warn":"hidden"},"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441 \u0442\u0430\u043a\u0438\u043c \u0438\u043c\u0435\u043d\u0435\u043c \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442"),r.a.createElement("span",{className:"login"},"\u041f\u0430\u0440\u043e\u043b\u044c"),r.a.createElement("br",null),r.a.createElement("input",{type:"password",value:this.props.password,onChange:function(t){return e.props.dispatch({type:"REGISTER_SET_PASSWORD",value:t.target.value})}}),r.a.createElement("br",null),r.a.createElement("span",{className:"login"},"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"),r.a.createElement("br",null),r.a.createElement("input",{type:"password",value:this.props.rPassword,onChange:function(t){return e.props.dispatch({type:"REGISTER_SET_R_PASSWORD",value:t.target.value})}}),r.a.createElement("br",null),r.a.createElement("div",{className:this.props.passwordError?"warn":"hidden"},"\u041f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442"),r.a.createElement("button",{className:"submit-button",onClick:this.register,disabled:!this.props.formCorrect},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),r.a.createElement("button",{className:"submit-button",onClick:this.redirectToLogin},"\u041d\u0430\u0437\u0430\u0434")))}}]),t}(r.a.Component),w=Object(m.b)((function(e){return{user:e.appState.user,login:e.registerState.login,password:e.registerState.password,rPassword:e.registerState.rPassword,passwordError:e.registerState.passwordError,loginError:e.registerState.loginError,formCorrect:e.registerState.formCorrect}}))(A),x=Object(d.f)((function(e){var t=e.history;return r.a.createElement(w,{history:t})})),j=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(k,null),r.a.createElement(d.c,null,r.a.createElement(d.a,{exact:!0,path:"/login",component:g}),r.a.createElement(d.a,{exact:!0,path:"/register",component:x}),r.a.createElement(d.a,{path:"/",component:R})),r.a.createElement(M,null))}}]),t}(r.a.Component),k=function(){return r.a.createElement("div",{className:"header"},"\u041b\u0430\u0431\u043e\u0440\u0430\u0442\u043e\u0440\u043d\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430 \u21164. \u0429\u0435\u0440\u0431\u0430\u043a\u043e\u0432 \u0412.\u042e. P3214. ",r.a.createElement("span",{className:"variant"}," \u0412\u0430\u0440\u0438\u0430\u043d\u0442 40187."))},M=function(){return r.a.createElement("div",{className:"footer"},"Copyright \xa9ItmoLabs all rights were broken")},G=j,L=a(14),F=Object(L.c)({appState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"APP_LOGIN_SUCCESS":return Object.assign({},e,{user:t.value});case"APP_LOGOUT":return Object.assign({},e,{user:null});case"APP_UPDATE_POINTS_SUCCESS":return Object.assign({},e,{points:t.value});case"APP_UPDATE_DRAWING_SUCCESS":return Object.assign({},e,{drawing:t.value});default:return e}},loginState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_SET_LOGIN":return Object.assign({},e,{login:t.value,formCorrect:t.value.length>0&&e.password.length>0});case"LOGIN_SET_PASSWORD":return Object.assign({},e,{password:t.value,formCorrect:t.value.length>0&&e.login.length>0});case"LOGIN_SET_ERROR":return Object.assign({},e,{error:t.value});case"APP_LOGIN_SUCCESS":return Object.assign({},e,{error:!1,login:"",password:"",formCorrect:!1});default:return e}},registerState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REGISTER_SET_LOGIN":return Object.assign({},e,{login:t.value,formCorrect:t.value.length>0&&e.password.length>0&&e.rPassword.length>0});case"REGISTER_SET_PASSWORD":return Object.assign({},e,{password:t.value,formCorrect:t.value.length>0&&e.login.length>0&&e.rPassword.length>0});case"REGISTER_SET_R_PASSWORD":return Object.assign({},e,{rPassword:t.value,formCorrect:t.value.length>0&&e.login.length>0&&e.password.length>0});case"REGISTER_SET_LOGIN_ERROR":return Object.assign({},e,{loginError:t.value});case"REGISTER_SET_PASSWORD_ERROR":return Object.assign({},e,{passwordError:t.value});case"APP_REGISTER_SUCCESS":return{login:"",password:"",rPassword:"",loginError:!1,passwordError:!1,formCorrect:!1};default:return e}},mainState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MAIN_SET_X":return(Number(t.value)||0===Number(t.value)&&""!==t.value)&&!t.value.match(/^-*[0-9]*\.$/)&&Number(t.value)>=-4&&Number(t.value)<=4?Object.assign({},e,{xField:Number(t.value)}):"-"===t.value||""===t.value||"."===t.value||t.value.match(/^-*[0-9]*\.$/)&&Number(t.value)>=-4&&Number(t.value)<=4?Object.assign({},e,{xField:t.value}):e;case"MAIN_SET_Y":return(Number(t.value)||0===Number(t.value)&&""!==t.value)&&!t.value.match(/^-*[0-9]*\.$/)&&Number(t.value)>=-3&&Number(t.value)<=5?Object.assign({},e,{yField:Number(t.value)}):"-"===t.value||""===t.value||"."===t.value||t.value.match(/^-*[0-9]*\.$/)&&Number(t.value)>=-3&&Number(t.value)<=5?Object.assign({},e,{yField:t.value}):e;case"MAIN_SET_R":return Object.assign({},e,{rField:Number(t.value)});case"APP_LOGOUT":return{xField:"",yField:"",rField:.5};case"MAIN_SET_CHANGE_X":return(Number(t.value)||0===Number(t.value)&&""!==t.value)&&!t.value.match(/^-*[0-9]*\.$/)&&Number(t.value)>=-3&&Number(t.value)<=5?Object.assign({},e,{xChange:Number(t.value)}):"-"===t.value||""===t.value||"."===t.value||t.value.match(/^-*[0-9]*\.$/)&&Number(t.value)>=-3&&Number(t.value)<=5?Object.assign({},e,{xChange:t.value}):e;case"MAIN_SET_CHANGE_Y":return(Number(t.value)||0===Number(t.value)&&""!==t.value)&&!t.value.match(/^-*[0-9]*\.$/)&&Number(t.value)>=-5&&Number(t.value)<=5?Object.assign({},e,{yChange:Number(t.value)}):"-"===t.value||""===t.value||"."===t.value||t.value.match(/^-*[0-9]*\.$/)&&Number(t.value)>=-5&&Number(t.value)<=5?Object.assign({},e,{yChange:t.value}):e;case"MAIN_SET_CURRENT_POINT":return Object.assign({},e,{currentPoint:Number(t.value.id)});default:return e}}}),D=function(e,t){var a={login:e.getState().loginState.login,password:e.getState().loginState.password},n=new XMLHttpRequest;n.open("POST","".concat(ae,"/login"),!0),n.onload=function(){return U(n.responseText,e,t)},n.onerror=function(){return alert("\u0421\u0435\u0440\u0432\u0435\u0440 \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d")},n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.send("username=".concat(a.login,"&password=").concat(a.password))},U=function(e,t,a){200===JSON.parse(e).status?(window.localStorage.setItem("user",t.getState().loginState.login),t.dispatch({type:"APP_LOGIN_SUCCESS",value:t.getState().loginState.login}),a.push("/")):t.dispatch({type:"LOGIN_SET_ERROR",value:!0})},X=function(e){return function(t){return function(a){switch(a.type){case"APP_LOGIN":return D(e,a.value.history),t(a);default:t(a)}}}},H=function(e,t){e.getState().registerState.password===e.getState().registerState.rPassword?(e.dispatch({type:"REGISTER_SET_PASSWORD_ERROR",value:!1}),W(e,t)):e.dispatch({type:"REGISTER_SET_PASSWORD_ERROR",value:!0})},W=function(e,t){var a={login:e.getState().registerState.login,password:e.getState().registerState.password},n=new XMLHttpRequest;n.open("POST","".concat(ae,"/register"),!0),n.onload=function(){return q(n.responseText,e,t)},n.onerror=function(){return alert("\u0421\u0435\u0440\u0432\u0435\u0440 \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d")},n.setRequestHeader("Content-Type","application/json"),n.send(JSON.stringify(a))},q=function(e,t,a){200===JSON.parse(e).status?t.dispatch({type:"APP_REGISTER_SUCCESS",value:{history:a}}):t.dispatch({type:"REGISTER_SET_LOGIN_ERROR",value:!0})},Y=function(e){return function(t){return function(a){switch(a.type){case"APP_REGISTER":return H(e,a.value.history),t(a);case"APP_REGISTER_SUCCESS":return e.dispatch({type:"LOGIN_SET_LOGIN",value:e.getState().registerState.login}),e.dispatch({type:"LOGIN_SET_PASSWORD",value:e.getState().registerState.password}),e.dispatch({type:"APP_LOGIN",value:{history:a.value.history}}),t(a);default:t(a)}}}},B=function(e,t,a){var n=[],r=!0,l=!1,i=void 0;try{for(var o,s=t[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var u=o.value,c=u.pointHistoryElements.concat().sort((function(e,t){return t.date-e.date}))[0].x,p=u.pointHistoryElements.concat().sort((function(e,t){return t.date-e.date}))[0].y;n.push({x:c,y:p,ch:c>=0&&p>=0&&a>=c+p||c<=0&&p<=0&&c*c+p*p<=a*a||c>=0&&p<=0&&c<=a&&p>=-a})}}catch(h){l=!0,i=h}finally{try{r||null==s.return||s.return()}finally{if(l)throw i}}e.dispatch({type:"APP_UPDATE_DRAWING_SUCCESS",value:n})},J=function(e,t){var a=new XMLHttpRequest;a.open("GET","".concat(ae,"/get"),!0),a.onload=function(){return Q(a.responseText,e,t)},a.onerror=function(){return alert("\u0421\u0435\u0440\u0432\u0435\u0440 \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e \u043d\u0435\u0434\u043e\u0441\u0443\u043f\u0435\u043d")},a.send()},$=function(e,t){var a=new XMLHttpRequest;a.open("POST","".concat(ae,"/add"),!0),a.onload=function(){return Q(a.responseText,e)},a.onerror=function(){return alert("\u0421\u0435\u0440\u0432\u0435\u0440 \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e \u043d\u0435\u0434\u043e\u0441\u0443\u043f\u0435\u043d")},a.setRequestHeader("Content-Type","application/json"),a.send(JSON.stringify(t))},z=function(e,t){var a=new XMLHttpRequest;a.open("POST","".concat(ae,"/update"),!0),a.onload=function(){Q(a.responseText,e),e.dispatch({type:"MAIN_SET_CURRENT_POINT",value:{id:0}})},a.onerror=function(){return alert("\u0421\u0435\u0440\u0432\u0435\u0440 \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e \u043d\u0435\u0434\u043e\u0441\u0443\u043f\u0435\u043d")},a.setRequestHeader("Content-Type","application/json"),a.send(JSON.stringify(t))},K=function(e,t){var a=new XMLHttpRequest;a.open("POST","".concat(ae,"/delete"),!0),a.onload=function(){Q(a.responseText,e),e.dispatch({type:"MAIN_SET_CURRENT_POINT",value:{id:0}})},a.onerror=function(){return alert("\u0421\u0435\u0440\u0432\u0435\u0440 \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e \u043d\u0435\u0434\u043e\u0441\u0443\u043f\u0435\u043d")},a.setRequestHeader("Content-Type","application/json"),a.send(JSON.stringify({id:t.id}))},Q=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(e.startsWith("{")){var n=JSON.parse(e);200===n.status?t.dispatch({type:"APP_UPDATE_POINTS_SUCCESS",value:n.answer}):a&&(alert(a),t.dispatch({type:"APP_LOGOUT",value:{history:a}}))}else t.dispatch({type:"APP_LOGOUT",value:{history:a}})},V=function(e){return function(t){return function(a){switch(a.type){case"APP_LOGOUT":var n=new XMLHttpRequest;return n.open("GET","".concat(ae,"/logout"),!0),n.send(),window.localStorage.setItem("user",null),a.value.history.push("/login"),t(a);case"APP_GET_POINTS":return J(e,a.value.history),t(a);case"MAIN_ADD_POINT":return $(e,a.value),e.dispatch({type:"MAIN_SET_Y",value:""}),t(a);case"APP_UPDATE_POINTS_SUCCESS":return B(e,a.value,e.getState().mainState.rField),t(a);case"MAIN_SET_R":return B(e,e.getState().appState.points,Number(a.value)),t(a);case"MAIN_SET_CURRENT_POINT":if(0!==a.value.id){var r=a.value.pointHistoryElements.concat().sort((function(e,t){return t.date-e.date}));e.dispatch({type:"MAIN_SET_CHANGE_X",value:""+r[0].x}),e.dispatch({type:"MAIN_SET_CHANGE_Y",value:""+r[0].y})}else e.dispatch({type:"MAIN_SET_CHANGE_X",value:""}),e.dispatch({type:"MAIN_SET_CHANGE_Y",value:""});return t(a);case"MAIN_UPDATE_POINT":var l=a.value.pointHistoryElements.concat().sort((function(e,t){return t.date-e.date}))[0];return Number(e.getState().mainState.xChange)!==Number(l.x)||Number(e.getState().mainState.yChange)!==Number(l.y)?z(e,{id:e.getState().mainState.currentPoint,x:e.getState().mainState.xChange,y:e.getState().mainState.yChange}):e.dispatch({type:"MAIN_SET_CURRENT_POINT",value:{id:0}}),t(a);case"MAIN_DELETE_POINT":return K(e,a.value),e.dispatch({type:"MAIN_SET_CURRENT_POINT",value:{id:0}}),t(a);default:return t(a)}}}},Z=Object(L.a)(X,Y,V),ee={appState:{user:window.localStorage.getItem("user"),points:[],drawing:[]},loginState:{login:"",password:"",error:!1,formCorrect:!1},registerState:{login:"",password:"",rPassword:"",loginError:!1,passwordError:!1,formCorrect:!1},mainState:{xField:"",yField:"",rField:.5,xChange:"",yChange:"",currentPoint:0}},te=Object(L.d)(F,ee,Z);a.d(t,"DEFAULT_URL",(function(){return ae}));var ae="http://"+window.location.host;i.a.render(r.a.createElement(o.a,null,r.a.createElement(m.a,{store:te},r.a.createElement(G,null))),document.getElementById("root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.18f8b700.chunk.js.map